"use strict";angular.module("fileInput",[]),angular.module("fileInput").directive("fileInputButton",function(){return{restrict:"EA",scope:{file:"="},link:function(a,b){var c=angular.element(b),d=angular.element('<input type="file" />');c.append(d),d.on("change",function(){d[0].files&&0===d[0].files.length||a.$apply(function(){a.file=d[0].files})})}}});var fileReader=function(a){var b=function(a,b,c){return function(){c.$apply(function(){b.resolve(a.result)})}},c=function(a,b,c){return function(){c.$apply(function(){b.reject(a.result)})}},d=function(a,b){return function(a){b.$broadcast("fileProgress",{total:a.total,loaded:a.loaded})}},e=function(a,e){var f=new FileReader;return f.onload=b(f,a,e),f.onerror=c(f,a,e),f.onprogress=d(f,e),f},f=function(b,c){var d=a.defer(),f=e(d,c);return f.readAsDataURL(b),d.promise};return{readAsDataUrl:f}};angular.module("fileInput").factory("fileReader",["$q",fileReader]);